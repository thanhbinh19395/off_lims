<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorator="/Shared/User/layout">
<head>
    <meta charset="UTF-8"/>
    <title>View Log</title>
    <link href="/css/bootstrap.min.css" rel="stylesheet"/>
    <link href='http://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.0.3/css/font-awesome.min.css' rel='stylesheet'
          type='text/css'/>
    <link href="/index/detail.css" rel="stylesheet"/>
    <link rel="stylesheet" href="/index/user.css"/>
    <script src="/js/layout/jquery-1.11.2.min.js"></script>


</head>
<body>
    <div layout:fragment="content">
        <div class="row">
            <div class="col-md-12">
                <ol class="arrows">
                    <li><a href="/" th:text="#{Homepage}"></a></li>
                    <li><a th:href="@{/User/ViewLog}">View Log</a></li>
                </ol>
            </div>
        </div>
        <hr style="margin-top: 0 !important; margin-bottom: 0 !important;"/>
        <br/>
        <div class="tabs">
            <ul class="tab-links">
                <li class="active"><a href="#tab1">Borrowed Book</a></li>
                <li><a href="#tab2">Reservated Book</a></li>
                <li><a href="#tab2">Requested Book</a></li>
            </ul>

            <div class="tab-content">
                <div id="tab1" class="tab active">
                    <h3>Borrowed Log</h3>
                    <p th:if="${#lists.isEmpty(bookBorrowList)}">You have not borrowed any book yet? <a style="font-weight: bold" href="/">Go to library</a></p>
                    <table class="table table-bordered" th:if="${not #lists.isEmpty(bookBorrowList)}">
                        <thead>
                        <tr>
                            <th>Borrow ID</th>
                            <th>Book</th>
                            <th>Borrowed date</th>
                            <th>Return date</th>
                            <th>Status</th>
                        </tr>
                        </thead>
                        <tbody>
                        <tr th:each="item : ${bookBorrowList}">
                            <th scope="row" th:text="${item.header.id}"></th>
                            <td>
                                <ul th:each="detail : ${item.details}">
                                    <li><a th:href="@{/Book/ViewDetail/}+${detail.book.id}" th:text="${detail.book.name}"></a></li>
                                </ul>
                            </td>
                            <td th:text="${item.header.created_date}"></td>
                            <td th:text="${item.header.returnDate}"></td>
                            <td>
                                <h4><span th:class="${item.header.status} == 1? 'label label-success':'label label-danger'" th:text="${item.header.status} == 1 ? 'Solved':'Pending'"></span></h4>
                            </td>
                        </tr>
                        </tbody>
                    </table>
                </div>

                <div id="tab2" class="tab">
                    <h3>Reserved Log</h3>
                    <table class="table table-bordered">
                        <thead>
                        <tr>
                            <th>#</th>
                            <th>First Name</th>
                            <th>Last Name</th>
                            <th>Username</th>
                        </tr>
                        </thead>
                        <tbody>
                        <tr>
                            <th scope="row">1</th>
                            <td>Mark</td>
                            <td>Otto</td>
                            <td>@mdo</td>
                        </tr>
                        </tbody>
                    </table>
                </div>

            </div>
        </div>
        <script>
            jQuery(document).ready(function() {
                jQuery('.tabs .tab-links a').on('click', function(e)  {
                    var currentAttrValue = jQuery(this).attr('href');

                    // Show/Hide Tabs
                    jQuery('.tabs ' + currentAttrValue).show().siblings().hide();

                    // Change/remove current tab to active
                    jQuery(this).parent('li').addClass('active').siblings().removeClass('active');

                    e.preventDefault();
                });
            });
        </script>

    </div>

</body>
</html>