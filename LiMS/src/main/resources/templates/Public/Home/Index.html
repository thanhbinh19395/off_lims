<!DOCTYPE html>
<html
        xmlns:th="http://www.thymeleaf.org"
        xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorator="/Shared/User/layout">
<head>
    <title>Home Page | OFF Library</title>
    <link th:href='@{/index/index.css}' rel='stylesheet' type='text/css'/>
    <link href="/index/detail.css" rel="stylesheet"/>
    <link href="/css/bootstrap.min.css" rel="stylesheet"/>
</head>
<body>
<div layout:fragment="content">
    <nav class="navbar navbar-inverse" style="border-radius: 0px !important; text-align: center !important;">
        <div class="container-fluid">
            <br/>
                    <form action="/book/searchHandle" th:action="@{/book/searchHandle}" method="post" class="contact-form">
                <div  style="width: 100%; ">
                    <div style="display: inline-block; !important; width: 20%">
                        <select class="form-control" name="searchType" id="searchType">
                            <option value="2" th:text="#{Name}"></option>
                            <option value="1" th:text="#{Code}"></option>
                            <option value="3" th:text="#{Author}"></option>
                            <option value="4" th:text="#{PublishedYear}"></option>

                        </select>
                    </div>
                    <div style="display: inline-block !important; width: 60% ">
                        <input name="search" type="text" class="form-control" style="display: table-cell; !important;" id="search"  th:placeholder="#{placeholder}"/>
                    </div>
                    <div style="display: inline-block !important;">
                        <button type="submit" class="btn btn-danger" style="width: 100px" th:text="#{Search}">
                        </button>
                    </div>
                </div>
            </form>
            </div>
        <br/>
        <ul class="nav navbar-nav">
                <li><a href="/" th:text="#{Allbook}">All book</a></li>
                <li class="dropdown">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false" th:text="#{Categories}">Categories</a>
                    <ul class="dropdown-menu" role="menu" style="border-radius: 5px">
                        <li><a style="line-height: 40px;" class="external" th:each="category : ${categories}" th:text="${category.category_name}" th:href="@{/book/bookCategory/}+${category.id}">for Student</a></li>
                    </ul>
                </li>
                <li><a href="/book/new" th:text="#{New}">New!</a></li>
                <li><a href="/book/new" th:text="#{Mostborrowed}">New!</a></li>

        </ul>
    </nav>
    <div class="row">
        <div class="col-md-12">
            <ol class="arrows">
                <li><a href="/" th:text="#{Homepage}"></a></li>
                <li th:if="${bookCategory}" ><a th:href="@{/book/bookCategory/}+${bookCategory.id}" th:text="${bookCategory.category_name}"></a></li>
                <li th:if="${newText}" ><a th:href="@{/book/new}" th:text="#{New}"></a></li>
                <li th:if="${result}" ><a th:href="@{/book/searchQuery?searchResult=}+${result}" th:text="${result}"></a></li>
            </ol>
        </div>
    </div>
    <hr style="margin-top: 0 !important; margin-bottom: 0 !important;"/>
    <section>
        <div align="center">
            <div th:if="${#lists.isEmpty(books)}">
                <br/>
                <h3 style="font-family: 'Droid Sans', 'Helvetica', Arial, sans-serif; opacity: 0.6;"><b>BOOK NOT FOUND!</b></h3>
                <img style="opacity: 0.6; width: 300px" src="/images/missingbook.png"/>
                <br/>
                <br/>
                <div style="width: 300px">
                <button style="width: 100%" class="btn btn-danger" type="button" onclick="window.location.href='/'">Return to library</button>
                </div>
            </div>
            <div class="container-item" th:each="book : ${books}">
            <div class="item">
                <div class="item-overlay" th:style="'background: url('+@{/images/1-1.jpg}+');'">
                    <div th:style="${book.bookStatusId} != 1 ? 'background: #ff3333' :'' " class="sale-tag"><span></span></div>
                </div>
                <div class="item-content">

                    <div class="item-top-content">

                        <div class="item-top-content-inner">

                            <div class="item-product">
                                <div class="item-top-title">
                                    <h2 th:text="${book.name}"></h2>
                                    <p class="subdescription" th:text="${book.author}">
                                        Low skateshoes - Grey
                                    </p>
                                </div>
                            </div>

                        </div>
                    </div>
                    <div class="item-add-content">
                        <div class="item-add-content-inner">
                            <!-- <div class="section">
                                <h4>Sizes</h4>
                                <p>40,41,42,43,44,45</p>
                            </div> -->
                            <div class="section">
                                <a th:href="@{/Book/ViewDetail/}+${book.id}" class="btn buy expand" th:text="#{Detail}">Detail</a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

        </div>
        </div>
    </section>


<div style="text-align: center; clear: both" th:fragment='paginationbar'>
                <div th:if="${not #lists.isEmpty(page.items)}">
                    <ul class='pagination pagination-centered'>
                        <li th:class="${page.firstPage}?'disabled':''">
                            <span th:if='${page.firstPage}'>← First</span>
                            <a th:if='${not page.firstPage}' th:href='@{${page.url}(page=0,size=${page.size})}'>← First</a>
                        </li>
                        <li th:class="${page.hasPreviousPage}? '' : 'disabled'">
                            <span th:if='${not page.hasPreviousPage}'>«</span>
                            <a th:if='${page.hasPreviousPage}' th:href='@{${page.url}(page=${page.number-2},size=${page.size})}' title='Go to previous page'>«</a>
                        </li>
                        <li th:each='item : ${page.items}' th:class="${item.current}? 'active' : ''">
                            <span th:if='${item.current}' th:text='${item.number}'>1</span>
                            <a th:if='${not item.current}' th:href='@{${page.url}(page=${item.number-1},size=${page.size})}'><span th:text='${item.number}'>1</span></a>
                        </li>
                        <li th:class="${page.hasNextPage}? '' : 'disabled'">
                            <span th:if='${not page.hasNextPage}'>»</span>
                            <a th:if='${page.hasNextPage}' th:href='@{${page.url}(page=${page.number},size=${page.size})}' title='Go to next page'>»</a>
                        </li>
                        <li th:class="${page.lastPage}? 'disabled' : ''">
                            <span th:if='${page.lastPage}'>Last →</span>
                            <a th:if='${not page.lastPage}' th:href='@{${page.url}(page=${page.totalPages - 1},size=${page.size})}'>Last →</a>
                        </li>
                    </ul>
                </div>
            </div>


</div>
</body>
</html>